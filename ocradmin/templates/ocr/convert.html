{% extends "standard.html" %}

{% block title %} OCRopodium - Convert {% endblock %}

{% block headerscript %}
	<script type='application/javascript' src='/static/js/jquery/jquery.hoverIntent.min.js'></script>
	<script type='application/javascript' src='/static/js/utils/stats.js'></script>
	<script type='application/javascript' src='/static/js/parameter_builder.js'></script>
	<script type='application/javascript' src='/static/js/page_widget.js'></script>
	<script type='application/javascript' src='/static/js/ocr/convert.js'></script>
	<script type='application/javascript' src='/static/js/line_formatter.js'></script>
	<script type='application/javascript' src='/static/js/uploaders/ajax.js'></script>
    <link rel="stylesheet" href="/static/css/upload_results.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/static/css/parameters.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/static/css/page_widget.css" type="text/css" media="screen" />
{% endblock %}

{% block subtoolbar %}
    <div class="sub_toolbar" id="convert_toolbar">
        <button class="tbbutton" id="clear">Clear</button>
        <span>&nbsp;&nbsp;&nbsp;</span>
        <span id="format">
            <input type="radio" class="tbbutton" id="format_block" name="format" checked="checked" />
            <label for="format_block">Block</label>
            <input type="radio" class="tbbutton" id="format_line" name="format" />
            <label for="format_line">Line</label>
            <input type="radio" class="tbbutton" id="format_column" name="format" />
            <label for="format_column">Column</label>
        </span>
        <span>&nbsp;&nbsp;&nbsp;</span>
        <button class="tbbutton" id="zoomin">Zoom In</button>
        <button class="tbbutton" id="zoomout">Zoom Out</button>
        <span>&nbsp;&nbsp;&nbsp;</span>
        <input type="hidden" id="font_size" value="16" />
    </div>
{% endblock %}


{% block content %}

<div id="sidebar" class="widget">
    <div class="widget_header">Options</div>
    <div class="widget_content">
        {% if not task %}
        <form id="uploadform" name="convertoptions" action="{{request.path}}" method="POST" enctype="multipart/form-data">
            <div id="dragdrop">
                <div id="dropzone">
                    Drop images here...
                </div>
            </div>
        </form>
        {% endif %}
        <h4>Options:</h4>
        <div id="options" class="option_box">
            <form id="optionsform" name="options" action="/ocr/update_task/{{task.pk}}/" method="POST">
                <fieldset>
                    <legend>
                        <label for="id_engine">Engine</label> 
                        <select name="engine" id="id_engine">
                            <option value="0">Ocropus</option>
                            <option value="1">Tesseract</option>
                        </select>
                    </legend>

                    <fieldset id="preprocessing_options" class="collapsible">
                        <legend>Preprocessing</legend>
                        <fieldset id="grayscale_filters" class="collapsible">
                            <legend>Grayscale Filters</legend>
                            <input type="hidden" name="num_grayscale_filters" value="1" />
                            <div id="grayscale_filter0_options">
                                <label for="grayscale_filter0">Grayscale Filter 1</label>
                                <select name="grayscale_filter0">
                                    <option value="deskew">Gray Deskew</option>
                                    <option value="autoinvert">Auto Invert</option>
                                </select>
                            </div>
                        </fieldset>
                        <fieldset id="binarizer_options" class="collapsible">
                            <legend>Binarizer</legend>
                            <label for="binarizer" id="binarizer">Binarizer</label>
                            <select name="binarizer">
                                <option name="BinarizeByHT">BinarizeByHT</option>
                                <option name="BinarizeBySauvola">BinarizeBySauvola</option>
                                <option name="BinarizeByRange">BinarizeByRange</option>
                            </select>                        
                        </fieldset>
                        <fieldset id="binary_filters" class="collapsible">
                            <legend>Binary Filters</legend>
                            <input type="hidden" name="num_binary_filters" value="2" />
                            <div id="binary_filter0_options">
                                <label for="binary_filter0">Binary Filter 1</label>
                                <select name="binary_filter0">
                                    <option value="deskew">Deskew</option>
                                    <option value="autoinvert">Auto Invert</option>
                                </select>
                            </div>
                            <div id="binary_filter1_options">
                                <label for="binary_filter1">Binary Filter 2</label>
                                <select name="binary_filter1">
                                    <option value="deskew">Binary Deskew</option>
                                    <option value="autoinvert">Auto Invert</option>
                                </select>
                            </div>
                        </fieldset>
                    </fieldset>
                    <fieldset id="page_segmentation" class="collapsible">
                        <legend>Page Segmentation</legend>

                    </fieldset>                    
                    <fieldset id="recognition" class="collapsible">
                        <legend>Recognition</legend>

                    </fieldset>                    
                    <fieldset id="general" class="collapsible">
                        <legend>General</legend>

                    </fieldset>                    
                </fieldset>
            </form>
        </div>
    </div>
</div>

{% endblock %}

